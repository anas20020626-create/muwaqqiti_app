<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ù…ÙˆØ§Ù‚ÙŠØªÙŠ</title>

<style>
:root {
  --bg: linear-gradient(135deg, #f7e7b4, #fff6d8);
  --card: #ffffff;
  --primary: #0d1b3d;
  --accent: #0d1b3d;
  --text: #0d1b3d;
  --soft: #f4f1e6;
}

body.dark {
  --bg: linear-gradient(135deg, #0b1533, #0d1b3d);
  --card: #121c3a;
  --primary: #d4af37;
  --accent: #d4af37;
  --text: #f5e6b3;
  --soft: #1a2550;
}

body {
  margin: 0;
  font-family: Tahoma, Arial, sans-serif;
  background: var(--bg);
  min-height: 100vh;
  display: flex;
  justify-content: center;
  align-items: center;
  transition: 0.3s;
}

.card {
  width: 90%;
  max-width: 380px;
  background: var(--card);
  border-radius: 20px;
  padding: 25px 20px 30px;
  text-align: center;
  box-shadow: 0 15px 35px rgba(0,0,0,0.15);
}

.title {
  font-size: 30px;
  font-weight: bold;
  color: var(--primary);
  margin-bottom: 6px;
}

.city {
  font-size: 18px;
  color: var(--text);
  margin-bottom: 18px;
}

.time {
  background: var(--soft);
  margin: 8px 0;
  padding: 12px;
  border-radius: 14px;
  font-size: 18px;
  color: var(--text);
}

button {
  width: 100%;
  margin-top: 16px;
  padding: 14px;
  font-size: 17px;
  border-radius: 16px;
  border: none;
  cursor: pointer;
  background: linear-gradient(135deg, var(--accent), #b8962e);
  color: #fff;
  box-shadow: 0 10px 22px rgba(0,0,0,0.25);
  transition: transform 0.15s, box-shadow 0.15s;
}

button:active {
  transform: scale(0.97);
  box-shadow: 0 5px 12px rgba(0,0,0,0.25);
}

.toggle {
  margin-top: 12px;
  font-size: 14px;
  color: var(--primary);
  cursor: pointer;
}
</style>
</head>

<body class="dark">

<div class="card">
  <div class="title">ğŸ•Œ Ù…ÙˆØ§Ù‚ÙŠØªÙŠ</div>
  <div id="city" class="city">ğŸ“ Ù…ÙˆÙ‚Ø¹Ùƒ</div>

  <div id="fajr" class="time">Ø§Ù„ÙØ¬Ø±: --:--</div>
  <div id="dhuhr" class="time">Ø§Ù„Ø¸Ù‡Ø±: --:--</div>
  <div id="asr" class="time">Ø§Ù„Ø¹ØµØ±: --:--</div>
  <div id="maghrib" class="time">Ø§Ù„Ù…ØºØ±Ø¨: --:--</div>
  <div id="isha" class="time">Ø§Ù„Ø¹Ø´Ø§Ø¡: --:--</div>

  <button onclick="useMyLocation()">ğŸ“ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù…ÙˆÙ‚Ø¹ÙŠ Ø§Ù„Ø­Ø§Ù„ÙŠ</button>
  <div class="toggle" onclick="toggleMode()">ğŸ” ØªØºÙŠÙŠØ± Ø§Ù„ÙˆØ¶Ø¹</div>
</div>

<script>
function toggleMode() {
  document.body.classList.toggle("dark");
}

function useMyLocation() {
  if (!navigator.geolocation) {
    alert("Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø¬ØºØ±Ø§ÙÙŠ ØºÙŠØ± Ù…Ø¯Ø¹ÙˆÙ…");
    return;
  }

  navigator.geolocation.getCurrentPosition(pos => {
    const lat = pos.coords.latitude;
    const lon = pos.coords.longitude;

    fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${lat}&lon=${lon}&accept-language=ar`)
      .then(res => res.json())
      .then(place => {
        const city =
          place.address.city ||
          place.address.town ||
          place.address.village ||
          place.address.hamlet ||
          "Ù…ÙˆÙ‚Ø¹Ùƒ";
        document.getElementById("city").innerText = "ğŸ“ " + city;
      });

    fetch(`https://api.aladhan.com/v1/timings?latitude=${lat}&longitude=${lon}&method=4`)
      .then(res => res.json())
      .then(data => {
        const t = data.data.timings;
        fajr.innerText = "Ø§Ù„ÙØ¬Ø±: " + t.Fajr;
        dhuhr.innerText = "Ø§Ù„Ø¸Ù‡Ø±: " + t.Dhuhr;
        asr.innerText = "Ø§Ù„Ø¹ØµØ±: " + t.Asr;
        maghrib.innerText = "Ø§Ù„Ù…ØºØ±Ø¨: " + t.Maghrib;
        isha.innerText = "Ø§Ù„Ø¹Ø´Ø§Ø¡: " + t.Isha;
      });
  });
}
</script>

</body>
</html>
