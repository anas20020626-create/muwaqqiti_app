<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ููููุชู</title>

<style>
body {
  margin: 0;
  font-family: system-ui, sans-serif;
  background: #0b2a4a;
  color: gold;
}

header {
  text-align: center;
  padding: 15px;
  font-size: 20px;
  border-bottom: 1px solid gold;
}

.page {
  display: none;
  padding: 15px;
}

.page.active {
  display: block;
}

nav {
  position: fixed;
  bottom: 0;
  width: 100%;
  background: #081f36;
  display: flex;
  justify-content: space-around;
  border-top: 1px solid gold;
}

nav button {
  flex: 1;
  background: none;
  border: none;
  color: gold;
  padding: 10px;
  font-size: 14px;
}

h2 {
  text-align: center;
}

/* ุงููุจูุฉ */
.compass {
  width: 240px;
  height: 240px;
  border-radius: 50%;
  border: 6px solid gold;
  margin: 20px auto;
  position: relative;
  background: radial-gradient(circle, #123c66, #0b2a4a);
}

.needle {
  position: absolute;
  top: 50%;
  left: 50%;
  transform-origin: bottom center;
  transform: translate(-50%, -100%) rotate(0deg);
  font-size: 40px;
  color: red;
}

.kaaba {
  position: absolute;
  top: 10px;
  left: 50%;
  transform: translateX(-50%);
}

/* ุฃุฐูุงุฑ */
.zikr {
  background: rgba(255,215,0,0.08);
  padding: 10px;
  margin-bottom: 10px;
  border-radius: 8px;
}

/* ุฅุนุฏุงุฏุงุช */
.setting {
  margin: 15px 0;
}
</style>
</head>

<body>

<header>๐ฟ ููููุชู</header>

<!-- ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ -->
<div id="home" class="page active">
  <h2>๐ ูุฑุญุจูุง ุจู</h2>
  <p style="text-align:center">
    ุชุทุจูู ููููุชู โ ููุฏ ุงูุชุทููุฑ  
    <br>ุฃููุงุช ุงูุตูุงุฉ ุณุชูุถุงู ูุงุญููุง
  </p>
</div>

<!-- ุงููุจูุฉ -->
<div id="qibla" class="page">
  <h2>๐งญ ุงููุจูุฉ</h2>
  <button onclick="startCompass()">ุชุดุบูู ุงูุจูุตูุฉ</button>

  <div class="compass">
    <div class="kaaba">๐</div>
    <div class="needle" id="needle">โฒ</div>
  </div>

  <p id="qiblaStatus" style="text-align:center">ูุฌูู ุงููุงุชู</p>
</div>

<!-- ุงูุฃุฐูุงุฑ -->
<div id="azkar" class="page">
  <h2>๐ฟ ุงูุฃุฐูุงุฑ</h2>

  <h3>ุฃุฐูุงุฑ ุงูุตุจุงุญ</h3>
  <div class="zikr">ุฃุตุจุญูุง ูุฃุตุจุญ ุงูููู ููู</div>
  <div class="zikr">ุงูููู ุจู ุฃุตุจุญูุง ูุจู ุฃูุณููุง</div>
  <div class="zikr">ุณุจุญุงู ุงููู ูุจุญูุฏู (100 ูุฑุฉ)</div>
  <div class="zikr">ูุง ุฅูู ุฅูุง ุงููู ูุญุฏู ูุง ุดุฑูู ูู</div>
  <div class="zikr">ุฑุถูุช ุจุงููู ุฑุจูุง ูุจุงูุฅุณูุงู ุฏูููุง</div>
  <div class="zikr">ุงูููู ุนุงููู ูู ุจุฏูู</div>
  <div class="zikr">ุฃุนูุฐ ุจูููุงุช ุงููู ุงูุชุงูุงุช</div>
  <div class="zikr">ุงูููู ุฅูู ุฃุณุฃูู ุฎูุฑ ูุฐุง ุงูููู</div>
  <div class="zikr">ุญุณุจู ุงููู ูุง ุฅูู ุฅูุง ูู</div>
  <div class="zikr">ุงูููู ุตู ูุณูู ุนูู ูุจููุง ูุญูุฏ</div>

  <h3>ุฃุฐูุงุฑ ุงููุณุงุก</h3>
  <div class="zikr">ุฃูุณููุง ูุฃูุณู ุงูููู ููู</div>
  <div class="zikr">ุงูููู ุจู ุฃูุณููุง ูุจู ุฃุตุจุญูุง</div>
  <div class="zikr">ุฃุนูุฐ ุจู ูู ุดุฑ ูุง ุฎูู</div>
  <div class="zikr">ุณุจุญุงู ุงููู ูุจุญูุฏู</div>
  <div class="zikr">ุงูููู ุฅูู ุฃุนูุฐ ุจู ูู ุงููู ูุงูุญุฒู</div>
</div>

<!-- ุงูุฅุนุฏุงุฏุงุช -->
<div id="settings" class="page">
  <h2>โ๏ธ ุงูุฅุนุฏุงุฏุงุช</h2>

  <div class="setting">
    <label>
      <input type="checkbox" id="vibrationToggle" checked>
      ุชูุนูู ุงูุงูุชุฒุงุฒ ุนูุฏ ุงููุจูุฉ
    </label>
  </div>
</div>

<!-- ุงูุชููู -->
<nav>
  <button onclick="showPage('home')">๐ ุงูุฑุฆูุณูุฉ</button>
  <button onclick="showPage('qibla')">๐งญ ุงููุจูุฉ</button>
  <button onclick="showPage('azkar')">๐ฟ ุงูุฃุฐูุงุฑ</button>
  <button onclick="showPage('settings')">โ๏ธ ุงูุฅุนุฏุงุฏุงุช</button>
</nav>

<script>
function showPage(id) {
  document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
  document.getElementById(id).classList.add('active');
}

/* ุงููุจูุฉ */
const KAABA_LAT = 21.4225;
const KAABA_LNG = 39.8262;
let qiblaDir = null;
let vibrated = false;

function getQibla(lat, lng) {
  const dLng = (KAABA_LNG - lng) * Math.PI / 180;
  const y = Math.sin(dLng);
  const x = Math.cos(lat * Math.PI / 180) * Math.tan(KAABA_LAT * Math.PI / 180)
            - Math.sin(lat * Math.PI / 180) * Math.cos(dLng);
  return (Math.atan2(y, x) * 180 / Math.PI + 360) % 360;
}

function startCompass() {
  navigator.geolocation.getCurrentPosition(pos => {
    qiblaDir = getQibla(pos.coords.latitude, pos.coords.longitude);

    window.addEventListener("deviceorientation", e => {
      if (!e.alpha) return;

      const heading = 360 - e.alpha;
      const diff = (qiblaDir - heading + 360) % 360;

      document.getElementById("needle").style.transform =
        `translate(-50%, -100%) rotate(${diff}deg)`;

      const angle = Math.abs(diff > 180 ? diff - 360 : diff);
      const vibOn = document.getElementById("vibrationToggle").checked;

      if (angle < 5) {
        document.getElementById("qiblaStatus").innerText = "โ ูุฐู ุงููุจูุฉ";
        if (vibOn && !vibrated) {
          navigator.vibrate(300);
          vibrated = true;
        }
      } else {
        document.getElementById("qiblaStatus").innerText =
          "ุงูุญุฑุงู: " + angle.toFixed(1) + "ยฐ";
        vibrated = false;
      }
    });
  });
}
</script>

</body>
</html>
